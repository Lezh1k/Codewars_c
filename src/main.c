#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>

#include "math_expression.h"

int main(int argc, char *argv[]) {
  (void)argc;
  (void)argv;

  const char *exprs[] = {
    "((7.63+8.93/(8.08))/(8.47*9.10/9.91*7.62)+((9.74))*6.36+6.97/6.49/7.23*9.22/8.13+9.09*6.22/ -5.75*7.00* -2.16+5.48/ -1.94+9.99+ -5.43+ -4.26*5.59- -3.85- -4.17/ -5.07+9.22*(8.47/7.39-6.81/5.94+7.89+9.87)+((9.84+7.90/5.08/ -6.93/7.57))/(7.92/8.77)-8.15*8.86+(9.52+7.97)/9.54+ -7.56+8.41+6.74/7.42*((8.79+8.38*7.93+8.21-6.69/ -4.53-5.19/ -2.92+ -9.41-9.43+7.62))+(((9.14-8.84+9.61+8.40+ -5.99+9.06)/7.27*7.62+9.54/7.72)+6.63+7.61/(6.68)+8.63/6.98+7.76+7.83*(7.44)*8.41-9.28*8.41-9.34/(((9.42*6.75))+6.69/7.64+7.55+9.05+6.17+6.92)))",
    "6.54 + 8.01 * 5.51 / -9.84 + 5.70",
    "1+1",
    NULL,
  };

  for (const char **expr = exprs; *expr; ++expr) {
    printf("input: %s\noutput: %.21lf\n\n", *expr, calculate(*expr));
    fflush(stdout);
  }
  return 0;
}
////////////////////////////////////////////////////////////
